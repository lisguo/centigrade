<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head(Centigrade)"></head>

<body>
<div th:replace="fragments :: navbar"></div>
<div class="container container-fluid">
    <h1>Best Picture Winners</h1>

    <table class="table table-striped" id="movies-table">
        <thead>
        <th scope="col">Rating</th>
        <th scope="col"></th>
        <th scope="col">Title</th>
        <th scope="col">Info</th>
        </thead>
        <tbody>
        <tr th:each="movie : ${movies}">
            <div th:if="${movie.hasBeenRated()}">
                <td th:text="@{${decimalFormat.format(movie.getOverallRating())} + '%'}"/>
            </div>
            <div th:unless="${movie.hasBeenRated()}">
                <td th:text="@{'N/A'}"/>
            </div>
            <td>
                <img th:src="@{${posterURL} + 'poster' + ${movie.id} + '.jpg'}" width="90" height="132"/>
            </td>
            <td>
                <a th:href="@{'/movie?id=' + ${movie.id}}" th:text="${movie.title}"/>
            </td>
            <td>
                <p th:text="@{'Year: ' + ${movie.year}}"></p>
                <p th:text="@{'Box Office: ' + ${movie.boxoffice}}"></p>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<div th:replace="fragments :: footer"></div>

</body>
</html>