<table>
    <tr th:each="r : ${latestReviews}">
        <div class="card border-danger">
            <div class="card-header container-fluid" th:text="@{'Rating: ' + ${r.rating} + '%'}"></div>
            <div class="card-body text-danger container-fluid">
                <div class="row">
                    <img th:if="${r.contentType.equals('Show')}" width="100" height="100" th:src="@{${tvPosterURL} + 'tvposter' + ${r.contentId} + '.jpg'}" alt="CAST IMAGE"/>
                    <img th:if="${r.contentType.equals('Movie')}" width="100" height="100" th:src="@{${posterURL} + 'poster' + ${r.contentId} + '.jpg'}" alt="CAST IMAGE"/>
                    <img width="100" height="100" th:src="@{${profilePicURL} + 'user' + ${r.userId} + '.jpg'}" alt="CAST IMAGE"/>
                </div>
                <h5 class="card-title">
                    <div class="row">
                        <a th:if="${r.contentType.equals('Show')}" th:href="@{'/show?id=' + ${r.contentId}}" th:text="@{${r.contentName}}"></a>
                        <a th:unless="${r.contentType.equals('Show')}" th:href="@{'/movie?id=' + ${r.contentId}}" th:text="@{${r.contentName}}"></a>
                        <p th:text="@{'&nbsp;-&nbsp;'}" ></p>
                        <a th:href="@{'/profile?id=' + ${r.userId}}" th:text="@{${r.userName}}"></a>
                    </div>
                </h5>
                <p class="card-text" th:unless="${r.reviewText == null}" th:text="${r.reviewText}">
                </p>
                <div class="row">
                    <form th:if="${session.account != null and r.userId == session.account.id}" action = "edit_review" method="get">
                        <input type="hidden" th:value="${r.id}" name="id" />
                        <input type="hidden" th:value="@{'true'}" name="fromHomePage" />
                        <input class="btn btn-outline-danger" type="submit" value="Edit" />
                    </form>
                    <form th:if="${session.account != null} and ${r.userId == session.account.id or session.account.accountType == T(centigrade.accounts.AccountType).ADMIN}" action = "delete_review" method="post">
                        <input type="hidden" th:value="${r.id}" name="id" />
                        <input type="hidden" th:value="@{'true'}" name="fromHomePage" />
                        <input class="btn btn-outline-danger" type="submit" value="X" />
                    </form>
                    <form th:if="${session.account != null} and ${r.userId != session.account.id and session.account.accountType != T(centigrade.accounts.AccountType).ADMIN}" action = "report_review" method="get">
                        <input type="hidden" th:value="${r.id}" name="id" />
                        <input type="hidden" th:value="@{'true'}" name="fromHomePage" />
                        <input class="btn btn-outline-danger" type="submit" value="Report" />
                    </form>
                </div>
            </div>
        </div>

        <p th:utext="@{'&lt;br&gt;'}"></p>
    </tr>
</table>